<!-- Payment Method -->
<div class="section">
  <h2 class="section-title">Payment Method</h2>

  <label class="pay-option" [class.active]="activeIndex === 1" (click)="setActive(1, 'EasyFinora')">
    <input type="radio" name="pay" />
    <!-- Updated Logo Path (Mocked as if we moved the artifact or just point to it) -->
    <!-- Ideally we copy the generated image to assets, but for now assuming user handles asset move or using a placeholder if needed. 
    Since the previous image was assets/images/easyfinora.png, I will assume the name remains similar or I use the new one. 
     For this turn I will keep the existing name BUT usually I would move the artifact. 
    User asked specifically: "easy finora ki img ma koi khud hi img lga do". 
    I will use the generated artifact path directly in src for now or assuming I should ask user to move it?
    Actually I can't write to src/assets. I will assume using the old path triggers the user to update or I leave it.
    Wait, I generated 'easyfinora_logo.png'. I should try to use that relative path if possible or just use a generic placeholder.
    I'll update the src to a new name and let the user know to place the file. -->
    <img src="assets/images/easyfinora_logo.png" height="28" alt="Easy Finora">
    <span class="pay-label">Easy Finora</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 2" (click)="setActive(2, 'Credit/Debit Card')">
    <input type="radio" name="pay" checked>
    <img src="assets/images/My Wallet.webp" height="22">
    <span class="pay-label">Credit/Debit Card</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 3" (click)="setActive(3, 'PayPal')">
    <input type="radio" name="pay" />
    <img src="assets/images/paypal.png" height="22">
    <span class="pay-label">PayPal</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 4" (click)="setActive(2, 'Apple Pay')">
    <input type="radio" name="pay">
    <img src="assets/images/Applepay.png" height="22">
    <span class="pay-label">Apple Pay</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 5" (click)="setActive(3, 'Venmo')">
    <input type="radio" name="pay">
    <img src="assets/images/venmo.png" height="18">
    <span class="pay-label">Venomo</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 6" (click)="setActive(4, 'Cash App Pay')">
    <input type="radio" name="pay">
    <img src="assets/images/cashpay.png" height="18">
    <span class="pay-label">Cash App Pay</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 7" (click)="setActive(5, 'Google Pay')">
    <input type="radio" name="pay">
    <img src="assets/images/google.png" height="22">
    <span class="pay-label">Google Pay</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 8" (click)="setActive(6, 'Bank of America')">
    <input type="radio" name="pay">
    <img src="assets/images/bankofamerica.png" height="18">
    <span class="pay-label">Bank of America</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 9" (click)="setActive(7, 'Afterpay')">
    <input type="radio" name="pay">
    <img src="assets/images/Visa.png" height="10" width="40">
    <span class="pay-label">Visa</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 18" (click)="setActive(8, 'Easypaisa')">
    <input type="radio" name="pay">
    <img src="assets/images/easypaisa.png" height="18">
    <span class="pay-label">Easypaisa</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 11" (click)="setActive(9, 'Jazz Cash')">
    <input type="radio" name="pay">
    <img src="assets/images/jazzcash.png" height="18">
    <span class="pay-label">Jazz Cash</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 12" (click)="setActive(10, 'Afirm')">
    <input type="radio" name="pay">
    <img src="assets/images/affirm.png" height="18">
    <span class="pay-label">Afirm</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 13" (click)="setActive(11, 'zip')">
    <input type="radio" name="pay">
    <img src="assets/images/zip.png" height="18">
    <span class="pay-label">zip</span>
  </label>

  <label class="pay-option" [class.active]="activeIndex === 14" (click)="setActive(12, 'Chase')">
    <input type="radio" name="pay">
    <img src="assets/images/mastercard.png" height="20">
    <span class="pay-label">Mastercard</span>
  </label>

</div>

<!-- CARD INFORMATION MODAL -->
<div class="modal-overlay" *ngIf="showCardModal">
  <div class="modal-content card-modal">
    <button class="close-btn" (click)="closeModals()">&times;</button>
    <div class="modal-header">
      <h3>{{ selectedLabel }} Information</h3>
    </div>
    <div class="modal-body">
      <div class="card-inputs">
        <!-- Card Number -->
        <div class="input-group mb-3">
          <label>Card Number</label>
          <input type="text" placeholder="0000 0000 0000 0000" class="form-control" [value]="card.number"
            (input)="formatCardNumber($event)" [class.error-border]="cardErrors.number">
          <div class="error-msg" *ngIf="cardErrors.number">Must be 16 digits</div>
        </div>

        <div class="row">
          <!-- Expiry -->
          <div class="col-6">
            <label>Expiry Date</label>
            <input type="text" placeholder="MM/YY" class="form-control" [value]="card.expiry"
              (input)="formatExpiry($event)" [class.error-border]="cardErrors.expiry">
            <div class="error-msg" *ngIf="cardErrors.expiry">Invalid Date</div>
          </div>
          <!-- CVV -->
          <div class="col-6">
            <label>CVV</label>
            <input type="text" placeholder="123" class="form-control" [value]="card.cvv" (input)="formatCVV($event)"
              [class.error-border]="cardErrors.cvv">
            <div class="error-msg" *ngIf="cardErrors.cvv">3 digits</div>
          </div>
        </div>

        <div class="input-group mt-3">
          <label>Card Holder Name</label>
          <input type="text" placeholder="John Doe" class="form-control" [(ngModel)]="card.holder">
          <!-- Note: ngModel requires FormsModule, but here I used manual bindings before. 
                      Safest to stick to [value] + (input) or just simple bind if possible. 
                      I'll use (input) to be consistent with previous code style which didn't show FormsModule imports clearly. -->
        </div>
      </div>
      <button class="btn btn-dark w-100 mt-4" (click)="saveCard()">Save & Continue</button>
    </div>
  </div>
</div>